{%- set identifier = project_name|replace(' ', '')|replace('_','')|regex_replace('(?<=[a-zA-Z])([A-Z])', '_\\1')|lower|trim -%}
{%- set distinguisher = range(1, 100)|random -%}

{
  "formulaPackage": {
    "name": "{{ identifier }}FormulaPackage",
    "creatorName": "Your Name",
    "creatorContactInfo": "your.name@seeq.com"
  },
  "functions": [
    {
      "name": "SignalMultiplier{{ distinguisher }}",
      "id": "{{ identifier }}-SignalMultiplier{{ distinguisher }}",
      "description": "<p>This function multiplies two signals and doubles the result of the multiplication </p>",
      "formula": "($signal1  * $signal2) * 2",
      "type": "UserDefinedFormulaFunction",
      "parameters": [
        {
          "unbound": true,
          "name": "signal1",
          "formula": "1.toSignal()"
        },
        {
          "unbound": true,
          "name": "signal2",
          "formula": "1.toSignal()"
        }
      ]
    },
    {
      "name": "SignalAdder{{ distinguisher }}",
      "id": "{{ identifier }}-SignalAdder{{ distinguisher }}",
      "description": "<p>This functions adds two signals</p>",
      "formula": "$signal1 + $signal2",
      "type": "UserDefinedFormulaFunction",
      "parameters": [
        {
          "unbound": true,
          "name": "signal1",
          "formula": "1.toSignal()"
        },
        {
          "unbound": true,
          "name": "signal2",
          "formula": "1.toSignal()"
        }
      ]
    }
  ],
  "docs": [
    {
      "name": "index",
      "description": "<p>This function package contains examples of how to create and use formula functions in Seeq Formula.</p>",
      "title": "Example Formula Package",
      "examples": {
        "examples": [
          {
            "description": "Multiply two signals and double the result.",
            "formula": "{{ identifier }}_SignalMultiplier{{ distinguisher }}($signal1, $signal2)"
          },
          {
            "description": "Add two signals.",
            "formula": "{{ identifier }}_SignalAdder{{ distinguisher }}($signal1, $signal2)"
          }
        ]
      }
    }
  ]
}
