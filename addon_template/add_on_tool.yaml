addOnTool_prompts:
  type: str
  help: "\n\n ================= AddOnTool Element Configuration ================="
  default: Press enter to continue
  when: "{{ 'AddOnTool' in elements_to_include }}"

addOnTool_description:
  type: str
  help: Enter description of the AddOnTool element
  placeholder: (This is the description of the Add-on Tool just below the name in workbench or the homescreen
  validator: >-
    {% if not addOnTool_description %}
    description cannot be empty
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include }}"

addOnTool_location:
  type: str
  help: Enter how the add-on should be launched
  default: window
  choices:
    - window
    - tab
    - homescreen
  validator: >-
    {% if not addOnTool_location %}
    Please choose one option
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include }}"

addOnTool_window_details:
  type: str
  help: You can optionally pass window (comma-separated) settings.
  default: toolbar=0,location=0,scroll
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_location == 'window'}}"

addOnTool_advanced:
  type: bool
  default: False
  help: >-
    Do you want to specify any of these advanced settings for the AddOnTool? If unsure, press enter.

        - Add-on Tool Name: Show a different name for the AddOnTool in the Add-on Manager vs. Workbench
        - Add-on Tool Icon: Show a different icon for the AddOnTool in the Add-on Manager vs. Workbench
        - Resource Size
        - Project Properties: Add additional configuration values during runtime

addOnTool_name:
  type: str
  help: Enter AddOnTool element name
  placeholder: (This is the name of the Add-on Tool in workbench or the homescreen )
  default: "{{ project_name }}"
  validator: >-
    {% if not (addOnTool_name | regex_search('^[A-Za-z][A-Za-z0-9 _-]*$')) %}
    name of the AddOnTool element must start with a letter and cannot contain any symbols.
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_advanced }}"

addOnTool_icon:
  type: str
  help: Enter icon (see https://fontawesome.com/v4.7.0/icons/) # TODO: I don't think this list is correct
  default: "{{ project_icon }}"
  placeholder: (This icon will be shown next to the Add-on Tool name in workbench under Tools > Add-ons )
  validator: >-
    {% if not addOnTool_icon %}
    icon cannot be empty
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_advanced }}"

addOnTool_resource_size:
  type: str
  help: Enter resource size of the Data Lab Project
  default: GP_S
  placeholder: (We need to change our KB to have a sharable link here!! https://support.seeq.com/kb/latest/cloud/elements#Element-Specific-Properties)
  validator: >-
    {% if not addOnTool_resource_size %}
    resource size cannot be empty
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_advanced }}"

addOnTool_project_properties_question:
  type: str
  help: Does the Add-on tool required any additional configuration values during runtime? (e.g. choose No if you don't know what this is)
  default: "No"
  choices:
    - "Yes"
    - "No"
  validator: >-
    {% if not addOnTool_project_properties_question %}
    Please choose one option
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_advanced }}"

addOnTool_project_properties:
  type: json
  help: "You can pass configuration properties as an arbitrary json object that will appeared in the Data Lab project hosting the Add-on tool. Paste your json object here:"
  default:
  #  validator: "{ addOnTool_project_properties is jsonschema({'type': 'integer', 'minimum': 0}) }}"
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_project_properties_question == 'Yes'}}"

addOnTool_project_required_properties_question:
  type: str
  help: Are any of these additional properties required?
  default: "No"
  choices:
    - "Yes"
    - "No"
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_project_properties_question == 'Yes'}}"

addOnTool_project_required_properties:
  type: str
  help: What is the list of required additional properties? (Each property must be enclosed by double quotes and separated by commas)
  validator: >-
    {% if not (addOnTool_project_required_properties | regex_search('^"([^"]*)"( *, *"([^"]*)")*$')) %}
    each property must be enclosed by double quotes and properties must be separated by commas (e.g. "prop1", "prop2")
    {% endif %}
  when: "{{ 'AddOnTool' in elements_to_include and addOnTool_project_required_properties_question == 'Yes'}}"
